# ğŸ’¬ Linux Chat
### ğŸ“Œ ì†Œê°œ
> ####  **ğŸ’¬ TCP/IP ê¸°ë°˜ì˜ ì†Œì¼“ í†µì‹ ì„ ì‚¬ìš©í•˜ëŠ” ë¦¬ëˆ…ìŠ¤ epoll ê¸°ë°˜ì˜ ë¹„ë™ê¸° ë©€í‹°ìŠ¤ë ˆë“œ ì±„íŒ… ì„œë²„ì…ë‹ˆë‹¤.**

- epoll ë©”ì»¤ë‹ˆì¦˜ì´ í•´ë‹¹ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•  ì¤€ë¹„ê°€ ëœ ì†Œì¼“ì„ ì‹ë³„í•©ë‹ˆë‹¤. ì¤€ë¹„ëœ ì†Œì¼“ì˜ ì´ë²¤íŠ¸ëŠ” ìŠ¤ë ˆë“œí’€ë¡œ ì „ë‹¬ë˜ì–´ ì²˜ë¦¬ë©ë‹ˆë‹¤. 
- ìŠ¤ë ˆë“œí’€ì€ ì—¬ëŸ¬ ê°œì˜ ìŠ¤ë ˆë“œë¥¼ í¬í•¨í•˜ê³  ìˆìœ¼ë©°, ê° ìŠ¤ë ˆë“œëŠ” ë…ë¦½ì ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.

### ğŸ“Œ ì‹¤í–‰ ì˜ìƒ
https://youtu.be/si3rGMB3ydk

### ğŸ“Œ ì‹¤í–‰ ë°©ë²•
1. ì»´íŒŒì¼í•˜ê¸°
```
g++ -o server server.cpp -lpthread -std=c++11

g++ -o client client.cpp -lpthread -std=c++11
```

2. ì‹¤í–‰í•˜ê¸° (ì„œë²„ê°€ ì‹¤í–‰ëœ ìƒíƒœì—ì„œ í´ë¼ì´ì–¸íŠ¸ê°€ ì…ì¥í•´ì•¼ í•©ë‹ˆë‹¤)
```
./server

./client
```
### ğŸ“Œ ê°œë°œ í™˜ê²½

C++, CentOS 7, g++, VMware, Visual Studio Code

### ğŸ“Œ êµ¬í˜„ ê¸°ëŠ¥
- í´ë¼ì´ì–¸íŠ¸ëŠ” ì„œë²„ì— ì—°ê²°í•˜ì—¬ ì‹¤ì‹œê°„ìœ¼ë¡œ ë©”ì‹œì§€ë¥¼ ì£¼ê³ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì„œë²„ëŠ” ìŠ¤ë ˆë“œ í’€ì„ ì‚¬ìš©í•˜ì—¬ ê° í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì„ ë³‘ë ¬ë¡œ ì²˜ë¦¬í•©ë‹ˆë‹¤.
- ì±„íŒ… ê¸°ëŠ¥
  - ì…ì¥ ì‹œ ì´ë¦„ ì‘ì„± (ì¤‘ë³µ ì²´í¬)
  - ë©”ì‹œì§€ ì†¡ìˆ˜ì‹  ì‹œê°
  - ì „ì²´ ë©”ì‹œì§€ 
  - ê·“ì†ë§ ë©”ì‹œì§€ (ëª…ë ¹ì–´ : `/whisper â€™ê·“ì†ë§ ìƒëŒ€â€™ â€˜ëŒ€í™”ë‚´ìš©â€™`)
  - ì±„íŒ…ë°©ì— ìˆëŠ” ì „ì› ì´ë¦„ ì¡°íšŒ (ëª…ë ¹ì–´ : `/list`)
  - ì´ë¦„ ë°”ê¾¸ê¸° (ëª…ë ¹ì–´ : `/name â€˜ë°”ê¾¸ê³  ì‹¶ì€ ì´ë¦„â€˜`)

### ğŸ“Œ ì„œë²„ ì½”ë“œì—ì„œì˜ ìŠ¤ë ˆë“œí’€ ì‚¬ìš© ë°©ì‹

- ì„œë²„ ì´ˆê¸°í™” ì‹œ `ThreadPool` ê°ì²´ë¥¼ ìƒì„±í•˜ê³ , ì´ë•Œ ìŠ¤ë ˆë“œí’€ì˜ í¬ê¸°ë¥¼ ì§€ì •í•©ë‹ˆë‹¤. ì´ í¬ê¸°ëŠ” ì„œë²„ê°€ ë™ì‹œì— ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ìµœëŒ€ ìš”ì²­ ìˆ˜ë¥¼ ê²°ì •í•©ë‹ˆë‹¤.
- ì„œë²„ì˜ ë©”ì¸ ë£¨í”„ì—ì„œ `epoll_wait` ë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ë²¤íŠ¸ë¥¼ ëŒ€ê¸°í•©ë‹ˆë‹¤.
- ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´, ì—°ê²° ìš”ì²­ ì²˜ë¦¬(`accept_connections`) ë˜ëŠ” í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ ì²˜ë¦¬(`handle_client`) ì‘ì—…ì„ ìŠ¤ë ˆë“œí’€ì˜ í(`tasks`)ì— ì¶”ê°€í•©ë‹ˆë‹¤.
- ê° ìš”ì²­ì€ ì‘ì—… íì— ì¶”ê°€ë˜ê³ , ì‚¬ìš© ê°€ëŠ¥í•œ ìŠ¤ë ˆë“œì— ì˜í•´ ìˆœì°¨ì ìœ¼ë¡œ ì²˜ë¦¬ë©ë‹ˆë‹¤. ìŠ¤ë ˆë“œí’€ì—ì„œ ëŒ€ê¸° ì¤‘ì¸ ìŠ¤ë ˆë“œê°€ ì´ ì‘ì—…ì„ ê°€ì ¸ê°€ ì²˜ë¦¬í•©ë‹ˆë‹¤. 
- ì²˜ë¦¬ê°€ ì™„ë£Œë˜ë©´ ìŠ¤ë ˆë“œëŠ” ë‹¤ìŒ ì‘ì—…ì„ ìœ„í•´ ë‹¤ì‹œ ëŒ€ê¸° ìƒíƒœë¡œ ëŒì•„ê°‘ë‹ˆë‹¤.

### ğŸ“Œ ê³ ë¯¼í•œ ì 
> #### **ğŸ’¬ _ìŠ¤ë ˆë“œë¥¼ ì–´ë–»ê²Œ í• ë‹¹í• ê¹Œ?_**

ì´ˆê¸° ì„œë²„ ì„¤ê³„ì—ì„œëŠ” ê° í´ë¼ì´ì–¸íŠ¸ ì—°ê²°ì— ìŠ¤ë ˆë“œ í•˜ë‚˜ë¥¼ ê³ ì •ìœ¼ë¡œ í• ë‹¹í•˜ëŠ” êµ¬ì¡°ë¥¼ ê³ ë ¤í–ˆìŠµë‹ˆë‹¤. ì´ êµ¬ì¡°ì—ì„œ ìŠ¤ë ˆë“œëŠ” í´ë¼ì´ì–¸íŠ¸ê°€ ì ‘ì† ì¢…ë£Œë¥¼ í•  ë•Œê¹Œì§€ ì „ë‹´í•˜ì—¬, ì…ë ¥ì´ ì—†ëŠ” ë™ì•ˆì—ë„ ë‹¤ë¥¸ ì‘ì—…ì— ì¬í• ë‹¹ë  ìˆ˜ ì—†ì—ˆìŠµë‹ˆë‹¤. ì´ëŠ” ë¹„íš¨ìœ¨ì ì¸ ìì› ì‚¬ìš©ìœ¼ë¡œ ì´ì–´ì¡Œê³ , í´ë¼ì´ì–¸íŠ¸ê°€ ë§ì„ìˆ˜ë¡ ì„œë²„ì˜ ìŠ¤ë ˆë“œ ìì›ì´ ì†Œì§„ë˜ëŠ” ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤.

ì´ëŸ¬í•œ ë‹¨ì ì€ ê·¹ë³µí•˜ë˜, í™•ì¥ì„±ê³¼ ë³‘ë ¬ ì²˜ë¦¬ ëŠ¥ë ¥ì„ ê°–ì¶”ê¸° ìœ„í•´ì„œ ì €ëŠ” **_ì‘ì—… ê¸°ë°˜ ìŠ¤ë ˆë“œ í• ë‹¹_**  ëª¨ë¸ì„ ì„ íƒí–ˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ì ‘ê·¼ì—ì„œëŠ” ìŠ¤ë ˆë“œê°€ íŠ¹ì • í´ë¼ì´ì–¸íŠ¸ì— ê³ ì •ë˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ìš”ì²­ëœ ì‘ì—…(=íŒ¨í‚·)ì„ ì²˜ë¦¬í•  ë•Œë§Œ í• ë‹¹ë©ë‹ˆë‹¤. ì²˜ë¦¬ê°€ ì™„ë£Œë˜ë©´ ìŠ¤ë ˆë“œëŠ” ì¦‰ì‹œ ìŠ¤ë ˆë“œ í’€ë¡œ ë°˜í™˜ë˜ì–´ ë‹¤ìŒ ì‘ì—…ì„ ê¸°ë‹¤ë¦½ë‹ˆë‹¤. ì´ ëª¨ë¸ì€ ìŠ¤ë ˆë“œì™€ í´ë¼ì´ì–¸íŠ¸ ì—°ê²°ì„ ë¶„ë¦¬í•¨ìœ¼ë¡œì¨, ì„œë²„ì˜ í™•ì¥ì„±ê³¼ ìì› í™œìš©ë„ê°€ ë†’ë„ë¡ ê°œì„ í–ˆìŠµë‹ˆë‹¤. 

ê²°ê³¼ì ìœ¼ë¡œ, ìŠ¤ë ˆë“œ ìˆ˜ê°€ í´ë¼ì´ì–¸íŠ¸ ìˆ˜ì™€ ë…ë¦½ì ì´ ë˜ì–´, ì´ë¡ ìƒ ë¬´í•œì— ê°€ê¹Œìš´ í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ì— ì ‘ì†í•  ìˆ˜ ìˆë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤. ì‹¤ì œ í…ŒìŠ¤íŠ¸ë¥¼ í†µí•´, ì¿¼í„° ì½”ì–´ í™˜ê²½ì—ì„œ 4ê°œì˜ ìŠ¤ë ˆë“œë¥¼ ë§Œë“¤ì—ˆì„ ë•Œ ë™ì‹œì— 50ê°œì˜ í´ë¼ì´ì–¸íŠ¸ê°€ ë¬¸ì œì—†ì´ ì ‘ì†í•˜ê³  ì±„íŒ…í•˜ëŠ” ê²ƒì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤.

> #### **ğŸ’¬ _ìŠ¤ë ˆë“œ ê°„ì˜ ì•ˆì „í•œ ì‘ì—… í ì ‘ê·¼ì„ êµ¬í˜„í•˜ë ¤ë©´?_**
ì„œë²„ëŠ” ìŠ¤ë ˆë“œ í’€ì„ ì‚¬ìš©í•˜ì—¬ ì—¬ëŸ¬ í´ë¼ì´ì–¸íŠ¸ ì—°ê²°ì„ ë™ì‹œì— ê´€ë¦¬í•˜ê³ , í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì„ ë³‘ë ¬ë¡œ ì²˜ë¦¬í•˜ë„ë¡ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤. ê²½ìŸ ìƒíƒœë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ìŠ¤ë ˆë“œ í’€ ë‚´ì˜ ì‘ì—… íì— ëŒ€í•œ ìŠ¤ë ˆë“œ ì•ˆì „í•œ ì ‘ê·¼ì„ ë³´ì¥í•©ë‹ˆë‹¤. ê° ìŠ¤ë ˆë“œëŠ” ë®¤í…ìŠ¤ë¥¼ í†µí•´ íì— ëŒ€í•œ ì ‘ê·¼ì„ ë™ê¸°í™”í•˜ê³ , ì¡°ê±´ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‘ì—…ì´ ìˆì„ ë•Œê¹Œì§€ ëŒ€ê¸°í•©ë‹ˆë‹¤. ìŠ¤ë ˆë“œ í’€ì— ìˆëŠ” ì‘ì—… íì— ì‘ì—…ì„ ì¶”ê°€í•˜ê³ , ê° ìŠ¤ë ˆë“œê°€ ì¡°ê±´ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ëŒ€ê¸°í•˜ë‹¤ê°€ ì‘ì—…ì„ ê°€ì ¸ì™€ ì‹¤í–‰í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì‚¬ìš© ê°€ëŠ¥í•œ ìŠ¤ë ˆë“œì— ì‘ì—…ì„ ë¶„ë°°í–ˆìŠµë‹ˆë‹¤.

> #### **ğŸ’¬ _ë¡œë“œë°¸ëŸ°ì‹±ì„ êµ¬í˜„í•˜ë ¤ë©´?_**



### ğŸ“Œ ì„¤ê³„ ë‹¤ì´ì–´ê·¸ë¨
![image](https://github.com/strurao/LinuxChat/assets/126440235/270ed830-132b-473a-a62f-5311a895342a)

### ğŸ“Œ ì‹¤í–‰ ìº¡ì³ í™”ë©´
<img width="1057" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-01-27 á„‹á…©á„’á…® 3 13 55" src="https://github.com/strurao/LinuxChat/assets/126440235/be751a52-f14d-4d0f-ba9e-5d4f2804f078">
