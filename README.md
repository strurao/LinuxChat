# π’¬ Linux Chat
### π“ μ†κ°
> **π’¬ TCP/IP κΈ°λ°μ μ†μΌ“ ν†µμ‹ μ„ μ‚¬μ©ν•λ” λ¦¬λ…μ¤ epoll κΈ°λ°μ λΉ„λ™κΈ° λ©€ν‹°μ¤λ λ“ μ±„ν… μ„λ²„μ…λ‹λ‹¤.**

- epoll λ©”μ»¤λ‹μ¦μ΄ ν•΄λ‹Ή μ΄λ²¤νΈλ¥Ό μ²λ¦¬ν•  μ¤€λΉ„κ°€ λ μ†μΌ“μ„ μ‹λ³„ν•©λ‹λ‹¤. μ¤€λΉ„λ μ†μΌ“μ μ΄λ²¤νΈλ” μ¤λ λ“ν’€λ΅ μ „λ‹¬λμ–΄ μ²λ¦¬λ©λ‹λ‹¤. 
- μ¤λ λ“ν’€μ€ μ—¬λ¬ κ°μ μ¤λ λ“λ¥Ό ν¬ν•¨ν•κ³  μμΌλ©°, κ° μ¤λ λ“λ” λ…λ¦½μ μΌλ΅ ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ„ μ²λ¦¬ν•©λ‹λ‹¤.

### π“ μ‹¤ν–‰ μμƒ
- https://youtu.be/xaTnuzsmIqI

### π“ μ‹¤ν–‰ λ°©λ²•
1. μ»΄νμΌν•κΈ°
```
g++ -o server server.cpp -lpthread -std=c++11

g++ -o client client.cpp -lpthread -std=c++11
```

2. μ‹¤ν–‰ν•κΈ° (μ„λ²„κ°€ μ‹¤ν–‰λ μƒνƒμ—μ„ ν΄λΌμ΄μ–ΈνΈκ°€ μ…μ¥ν•΄μ•Ό ν•©λ‹λ‹¤)
```
./server

./client
```
### π“ κ°λ° ν™κ²½
- C++, CentOS 7, VMware, Visual Studio Code
### π“ κµ¬ν„ κΈ°λ¥
- ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ— μ—°κ²°ν•μ—¬ μ‹¤μ‹κ°„μΌλ΅ λ©”μ‹μ§€λ¥Ό μ£Όκ³ λ°›μ„ μ μμµλ‹λ‹¤.
- μ„λ²„λ” μ¤λ λ“ ν’€μ„ μ‚¬μ©ν•μ—¬ κ° ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ„ λ³‘λ ¬λ΅ μ²λ¦¬ν•©λ‹λ‹¤.
- μ±„ν… κΈ°λ¥
  - μ…μ¥ μ‹ μ΄λ¦„ μ‘μ„± (μ¤‘λ³µ μ²΄ν¬)
  - λ©”μ‹μ§€ μ†΅μμ‹  μ‹κ°
  - μ „μ²΄ λ©”μ‹μ§€ 
  - κ·“μ†λ§ λ©”μ‹μ§€ (λ…λ Ήμ–΄ : /whisper β€™κ·“μ†λ§ μƒλ€β€™ β€λ€ν™”λ‚΄μ©β€™)
  - μ±„ν…λ°©μ— μλ” μ „μ› μ΄λ¦„ μ΅°ν (λ…λ Ήμ–΄ : /list)
  - μ΄λ¦„ λ°”κΎΈκΈ° (λ…λ Ήμ–΄ : /name β€λ°”κΎΈκ³  μ‹¶μ€ μ΄λ¦„β€)

### π“ μ„λ²„ μ½”λ“μ—μ„μ μ¤λ λ“ν’€ μ‚¬μ© λ°©μ‹

- μ„λ²„ μ΄κΈ°ν™” μ‹ `ThreadPool` κ°μ²΄λ¥Ό μƒμ„±ν•κ³ , μ΄λ• μ¤λ λ“ν’€μ ν¬κΈ°λ¥Ό μ§€μ •ν•©λ‹λ‹¤. μ΄ ν¬κΈ°λ” μ„λ²„κ°€ λ™μ‹μ— μ²λ¦¬ν•  μ μλ” μµλ€ μ”μ²­ μλ¥Ό κ²°μ •ν•©λ‹λ‹¤.
- μ„λ²„μ λ©”μΈ λ£¨ν”„μ—μ„ `epoll_wait` λ¥Ό μ‚¬μ©ν•μ—¬ μ΄λ²¤νΈλ¥Ό λ€κΈ°ν•©λ‹λ‹¤.
- μ΄λ²¤νΈκ°€ λ°μƒν•λ©΄, μ—°κ²° μ”μ²­ μ²λ¦¬(`accept_connections`) λλ” ν΄λΌμ΄μ–ΈνΈ μ”μ²­ μ²λ¦¬(`handle_client`) μ‘μ—…μ„ μ¤λ λ“ν’€μ ν(`tasks`)μ— μ¶”κ°€ν•©λ‹λ‹¤.
- κ° μ”μ²­μ€ μ‘μ—… νμ— μ¶”κ°€λκ³ , μ‚¬μ© κ°€λ¥ν• μ¤λ λ“μ— μν•΄ μμ°¨μ μΌλ΅ μ²λ¦¬λ©λ‹λ‹¤. μ¤λ λ“ν’€μ—μ„ λ€κΈ° μ¤‘μΈ μ¤λ λ“κ°€ μ΄ μ‘μ—…μ„ κ°€μ Έκ°€ μ²λ¦¬ν•©λ‹λ‹¤. 
- μ²λ¦¬κ°€ μ™„λ£λλ©΄ μ¤λ λ“λ” λ‹¤μ μ‘μ—…μ„ μ„ν•΄ λ‹¤μ‹ λ€κΈ° μƒνƒλ΅ λμ•„κ°‘λ‹λ‹¤.

### π“ κ³ λ―Όν• μ 
> **π’¬ μ¤λ λ“λ¥Ό μ–΄λ–»κ² ν• λ‹Ήν• κΉ?**

μ²μμ— μ„¤κ³„ν•  λ•μ—λ”, ν•λ‚μ ν΄λΌμ΄μ–ΈνΈκ°€ μ ‘μ†ν•λ©΄ λ‹΄λ‹Ή μ¤λ λ“λ¥Ό μ£Όμ–΄μ„, μ¤λ λ“ ν’€ κ΄€λ¦¬μμ— μν•΄ μ¤λ λ“ ν’€μ—μ„ ν•κ°μ μ¤λ λ“κ°€ ν• λ‹Ήλμ–΄ ν΄λΌμ΄μ–ΈνΈκ°€ μ ‘μ†μ„ μΆ…λ£ν•  λ•κΉμ§€ κ·Έ μ¤λ λ“λ” κ·Έ ν΄λΌμ΄μ–ΈνΈλ§ λ‹΄λ‹Ήν•λ„λ΅ ν–μµλ‹λ‹¤. μ΄ λ°©μ‹μ λ‹¨μ μ€ λ§μ•½ ν•΄λ‹Ή ν΄λΌμ΄μ–ΈνΈμ μ…λ ¥μ΄ μ¤λ«λ™μ• μ—†λ”λΌλ„ ν•΄λ‹Ή μ¤λ λ“λ” ν΄λΌμ΄μ–ΈνΈλ΅λ¶€ν„° μ–Έμ  μ…λ ¥μ΄ λ“¤μ–΄μ¬μ§€ λ¨λ¥΄κΈ° λ•λ¬Έμ— λ‹¤λ¥Έ κ³³μ— μ‚¬μ©λ  μ μ—†λ‹¤λ” μ μ΄μ—μµλ‹λ‹¤. 

κ·Έλμ„ ν•λ‚μ μ¤λ λ“λ” ν•λ‚μ μ”μ²­μ‘μ—…(=ν¨ν‚·)μ— ν• λ‹Ήμ΄ λκ³  ν•΄λ‹Ή μ”μ²­μ„ μ²λ¦¬ν•λ©΄ λ‹¤μ‹ μ¤λ λ“ ν’€μ— λ°ν™λλ„λ΅ μ„¤κ³„ν•΄λ³΄μ•μµλ‹λ‹¤. μ΄ λ°©μ‹μ„ μ‚¬μ©ν•λ‹¤λ©΄ μƒμ„±λ μ¤λ λ“ μμ™€ μ ‘μ†ν•λ” ν΄λΌμ΄μ–ΈνΈ μλ” μ„λ΅ λ…λ¦½μ΄κΈ° λ•λ¬Έμ—, λ¬΄ν•μ ν΄λΌμ΄μ–ΈνΈκ°€ μ ‘μ†ν•  μ μμµλ‹λ‹¤. 

μ•„λλ” κ°λ°ν• μ‹μ¤ν…μ μ„λ²„μ μ„¤κ³„ λ‹¤μ΄μ–΄κ·Έλ¨κ³Ό 3κ°μ ν΄λΌμ΄μ–ΈνΈμ μ ‘μ† ν™”λ©΄μ…λ‹λ‹¤. ν΄λΌμ΄μ–ΈνΈλ” κ±°μ λ¬΄ν•μ— κ°€κΉκ² μ ‘μ†ν•  μ μλ‹¤λ” μ¥μ μ΄ μμµλ‹λ‹¤.(λ¬Όλ΅  μ‹¤μ λ΅λ” μ„λ²„ λ¥λ ¥μ— λ”°λΌ λ‹¬λΌμ§ κ²ƒμ΄λ©°, 50κ°μ ν΄λΌμ΄μ–ΈνΈκΉμ§€ μ ‘μ† ν›„ μ±„ν…μ΄ κ°€λ¥ν• κ²ƒμ„ ν™•μΈν–μµλ‹λ‹¤.) 

### π“ μ„¤κ³„ λ‹¤μ΄μ–΄κ·Έλ¨

### π“ μ‹¤ν–‰ μΊ΅μ³ ν™”λ©΄
<img width="1057" alt="α„‰α…³α„α…³α„…α…µα†«α„‰α…£α†Ί 2024-01-27 α„‹α…©α„’α…® 3 13 55" src="https://github.com/strurao/LinuxChat/assets/126440235/be751a52-f14d-4d0f-ba9e-5d4f2804f078">
